# ๐ค Channel Access Bot

**Telegram ะฑะพั ะดะปั ะฟัะพะดะฐะถะธ ะดะพัััะฟะพะฒ ะบ ะทะฐะบััััะผ ะบะฐะฝะฐะปะฐะผ**

ะะปะฐัะตะถะธ ัะตัะตะท Crypto Bot API (USDT) | ะัะปััะธัะทััะฝะพััั RU/EN | Windows Server

---

## ๐ ะกะพะดะตัะถะฐะฝะธะต

- [ะะพะทะผะพะถะฝะพััะธ](#-ะฒะพะทะผะพะถะฝะพััะธ)
- [ะขัะตะฑะพะฒะฐะฝะธั](#-ััะตะฑะพะฒะฐะฝะธั)
- [ะฃััะฐะฝะพะฒะบะฐ](#-ัััะฐะฝะพะฒะบะฐ)
- [ะะฐัััะพะนะบะฐ](#-ะฝะฐัััะพะนะบะฐ)
- [ะะฐะฟััะบ](#-ะทะฐะฟััะบ)
- [BAT-ัะฐะนะปั](#-bat-ัะฐะนะปั)
- [ะกัััะบัััะฐ ะฟัะพะตะบัะฐ](#-ััััะบัััะฐ-ะฟัะพะตะบัะฐ)
- [ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั](#-ะฟะปะฐะฝะธัะพะฒัะธะบ-ะทะฐะดะฐั)
- [FAQ](#-faq)

---

## โจ ะะพะทะผะพะถะฝะพััะธ

### ะะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
- ๐ข ะะฐัะฐะปะพะณ ะบะฐะฝะฐะปะพะฒ ั ะพะฟะธัะฐะฝะธัะผะธ
- ๐ฆ ะะฐะบะตัั ะบะฐะฝะฐะปะพะฒ (ะฝะตัะบะพะปัะบะพ ะบะฐะฝะฐะปะพะฒ ะฟะพ ะฒัะณะพะดะฝะพะน ัะตะฝะต)
- ๐ฐ 3 ัะฐัะธัะฐ: 30 / 90 / 365 ะดะฝะตะน
- ๐ณ ะะฟะปะฐัะฐ ะบัะธะฟัะพะฒะฐะปััะพะน USDT ัะตัะตะท Crypto Bot
- ๐๏ธ ะัะพะผะพะบะพะดั (%, ัะธะบัะธัะพะฒะฐะฝะฝะฐั ัะบะธะดะบะฐ, ะฑะพะฝััะฝัะต ะดะฝะธ)
- ๐ค ะะธัะฝัะน ะฟัะพัะธะปั ั ะธััะพัะธะตะน ะฟะพะดะฟะธัะพะบ
- ๐ ะัะฑะพั ัะทัะบะฐ: ะัััะบะธะน / English

### ะะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ:
- ๐ ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะฒ Telegram ะฑะพัะต
- ๐ฅ๏ธ TUI ะฐะดะผะธะฝะบะฐ ะดะปั SSH (ัะตัะผะธะฝะฐะป)
- ๐ ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ะธ ะพััััั
- ๐จ ะะฐัััะปะบะฐ ั ัะฐัะณะตัะธะฝะณะพะผ
- ๐ฅ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- ๐๏ธ ะะตะฝะตัะฐัะธั ะฟัะพะผะพะบะพะดะพะฒ
- ๐พ ะะฒัะพะผะฐัะธัะตัะบะธะต ะฑัะบะฐะฟั

### ะะฒัะพะผะฐัะธะทะฐัะธั:
- โฐ ะัะพะฒะตัะบะฐ ะธัััะบัะธั ะฟะพะดะฟะธัะพะบ ะบะฐะถะดัะต 5 ะผะธะฝัั
- ๐ซ ะะฒัะพะบะธะบ ะธะท ะบะฐะฝะฐะปะพะฒ ะฟัะธ ะธััะตัะตะฝะธะธ
- ๐ฉ ะฃะฒะตะดะพะผะปะตะฝะธั ะทะฐ 3 ะดะฝั, 1 ะดะตะฝั, 3 ัะฐัะฐ ะดะพ ะธััะตัะตะฝะธั
- ๐ ะะถะตะดะฝะตะฒะฝะฐั ััะฐัะธััะธะบะฐ
- ๐ ะะถะตะฝะตะดะตะปัะฝัะต ะพััััั ะฐะดะผะธะฝะฐะผ

---

## ๐ป ะขัะตะฑะพะฒะฐะฝะธั

- **Windows Server** 2016/2019/2022
- **Python** 3.11 ะธะปะธ ะฒััะต
- **Telegram Bot** ัะพะบะตะฝ ะพั @BotFather
- **Crypto Bot** ัะพะบะตะฝ ะพั @CryptoBot

---

## ๐ ะฃััะฐะฝะพะฒะบะฐ

### 1. ะกะบะฐัะฐะนัะต ะธ ัะฐัะฟะฐะบัะนัะต ะฟัะพะตะบั

```
C:\ChannelAccessBot\
โโโ bat\
โโโ data\
โโโ handlers\
โโโ ...
โโโ bot.py
```

### 2. ะะฐะฟัััะธัะต ัััะฐะฝะพะฒะบั

```cmd
cd C:\ChannelAccessBot\bat
install.bat
```

ะกะบัะธะฟั ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- โ ะัะพะฒะตัะธั ะฝะฐะปะธัะธะต Python
- โ ะกะพะทะดะฐัั ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต
- โ ะฃััะฐะฝะพะฒะธั ะฒัะต ะทะฐะฒะธัะธะผะพััะธ
- โ ะกะพะทะดะฐัั ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐะฟะบะธ
- โ ะกะพะทะดะฐัั .env ัะฐะนะป ะธะท ะฟัะธะผะตัะฐ

---

## โ๏ธ ะะฐัััะพะนะบะฐ

### 1. ะะพะปััะธัะต ัะพะบะตะฝ ะฑะพัะฐ

1. ะัะบัะพะนัะต @BotFather ะฒ Telegram
2. ะกะพะทะดะฐะนัะต ะฝะพะฒะพะณะพ ะฑะพัะฐ: `/newbot`
3. ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ

### 2. ะะพะปััะธัะต ัะพะบะตะฝ Crypto Bot

1. ะัะบัะพะนัะต @CryptoBot ะฒ Telegram
2. ะะตัะตะนะดะธัะต ะฒ Crypto Pay โ My Apps
3. ะกะพะทะดะฐะนัะต ะฟัะธะปะพะถะตะฝะธะต
4. ะกะบะพะฟะธััะนัะต ัะพะบะตะฝ API

### 3. ะฃะทะฝะฐะนัะต ัะฒะพะน Telegram ID

1. ะัะบัะพะนัะต @userinfobot ะธะปะธ @getmyid_bot
2. ะกะบะพะฟะธััะนัะต ะฒะฐั ID

### 4. ะะฐะฟะพะปะฝะธัะต .env ัะฐะนะป

ะัะบัะพะนัะต `C:\ChannelAccessBot\.env` ะธ ะทะฐะฟะพะปะฝะธัะต:

```env
# ะะฑัะทะฐัะตะปัะฝัะต ะฝะฐัััะพะนะบะธ
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
CRYPTO_BOT_TOKEN=your_crypto_bot_token
ADMIN_IDS=123456789

# ะะฟัะธะพะฝะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ
DEFAULT_LANGUAGE=ru
TIMEZONE=UTC
DEBUG=false
```

---

## โถ๏ธ ะะฐะฟััะบ

### ะะฑััะฝัะน ะทะฐะฟััะบ (ะฒ ะพะบะฝะต)

```cmd
bat\start_bot.bat
```

### ะะฐะฟััะบ ะฒ ัะพะฝะต (ัะฒััะฝััะพะต ะพะบะฝะพ)

```cmd
bat\start_background.bat
```

### ะะฐะฟััะบ ะบะฐะบ ัะปัะถะฑะฐ Windows

```cmd
bat\setup_service.bat
```

ะัะฑะตัะธัะต ะฟัะฝะบั "1" ะดะปั ัััะฐะฝะพะฒะบะธ ัะปัะถะฑั.

---

## ๐ BAT-ัะฐะนะปั

| ะคะฐะนะป | ะะฟะธัะฐะฝะธะต |
|------|----------|
| `install.bat` | ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน ะธ ะฟะตัะฒะพะฝะฐัะฐะปัะฝะฐั ะฝะฐัััะพะนะบะฐ |
| `start_bot.bat` | ะะฐะฟััะบ ะฑะพัะฐ ะฒ ัะตะบััะตะผ ะพะบะฝะต |
| `start_background.bat` | ะะฐะฟััะบ ะฑะพัะฐ ะฒ ัะฒััะฝััะพะผ ะพะบะฝะต |
| `stop_bot.bat` | ะััะฐะฝะพะฒะบะฐ ะฑะพัะฐ |
| `restart_bot.bat` | ะะตัะตะทะฐะฟััะบ ะฑะพัะฐ |
| `start_admin.bat` | ะะฐะฟััะบ TUI ะฐะดะผะธะฝะบะธ |
| `backup_db.bat` | ะััะฝะพะต ัะพะทะดะฐะฝะธะต ะฑัะบะฐะฟะฐ ะะ |
| `view_logs.bat` | ะัะพัะผะพัั ะปะพะณะพะฒ |
| `setup_service.bat` | ะฃััะฐะฝะพะฒะบะฐ/ัะฟัะฐะฒะปะตะฝะธะต ัะปัะถะฑะพะน Windows |

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
C:\ChannelAccessBot\
โ
โโโ ๐ bat\                    # BAT-ัะฐะนะปั ะดะปั ัะฟัะฐะฒะปะตะฝะธั
โ   โโโ install.bat
โ   โโโ start_bot.bat
โ   โโโ stop_bot.bat
โ   โโโ restart_bot.bat
โ   โโโ start_admin.bat
โ   โโโ start_background.bat
โ   โโโ backup_db.bat
โ   โโโ view_logs.bat
โ   โโโ setup_service.bat
โ
โโโ ๐ data\                   # ะะฐะฝะฝัะต
โ   โโโ bot.db                 # SQLite ะฑะฐะทะฐ ะดะฐะฝะฝัั
โ
โโโ ๐ logs\                   # ะะพะณะธ
โ   โโโ bot_2024-01-01.log
โ
โโโ ๐ backups\                # ะัะบะฐะฟั ะะ
โ   โโโ backup_20240101_120000.db
โ
โโโ ๐ database\               # ะะพะดะตะปะธ ะธ CRUD
โ   โโโ __init__.py
โ   โโโ database.py
โ   โโโ models.py
โ   โโโ crud.py
โ
โโโ ๐ handlers\               # ะะฑัะฐะฑะพััะธะบะธ
โ   โโโ user\                  # ะะพะปัะทะพะฒะฐัะตะปััะบะธะต
โ   โโโ admin\                 # ะะดะผะธะฝัะบะธะต
โ
โโโ ๐ keyboards\              # ะะปะฐะฒะธะฐัััั
โโโ ๐ states\                 # FSM ัะพััะพัะฝะธั
โโโ ๐ services\               # ะกะตัะฒะธัั (Crypto Bot, ะธ ั.ะด.)
โโโ ๐ middlewares\            # Middleware
โโโ ๐ scheduler\              # ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั
โโโ ๐ tui\                    # TUI ะฐะดะผะธะฝะบะฐ
โโโ ๐ locales\                # ะะตัะตะฒะพะดั
โโโ ๐ utils\                  # ะฃัะธะปะธัั
โ
โโโ ๐ bot.py                  # ะะปะฐะฒะฝัะน ัะฐะนะป
โโโ ๐ config.py               # ะะพะฝัะธะณััะฐัะธั
โโโ ๐ run_admin.py            # ะะฐะฟััะบ TUI
โโโ ๐ requirements.txt        # ะะฐะฒะธัะธะผะพััะธ
โโโ ๐ .env                    # ะะฐัััะพะนะบะธ (ัะตะบัะตัะฝัะต)
โโโ ๐ .env.example            # ะัะธะผะตั ะฝะฐัััะพะตะบ
```

---

## โฐ ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั

ะะพั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒัะฟะพะปะฝัะตั ัะปะตะดัััะธะต ะทะฐะดะฐัะธ:

| ะะฐะดะฐัะฐ | ะะฝัะตัะฒะฐะป | ะะฟะธัะฐะฝะธะต |
|--------|----------|----------|
| `check_expired_subscriptions` | 5 ะผะธะฝ | ะัะพะฒะตัะบะฐ ะธ ะพะฑัะฐะฑะพัะบะฐ ะธัััะบัะธั ะฟะพะดะฟะธัะพะบ |
| `send_expiration_notifications` | 1 ัะฐั | ะฃะฒะตะดะพะผะปะตะฝะธั ะพ ัะบะพัะพะผ ะธััะตัะตะฝะธะธ |
| `process_scheduled_broadcasts` | 1 ะผะธะฝ | ะัะปะพะถะตะฝะฝัะต ัะฐัััะปะบะธ |
| `generate_daily_stats` | 00:05 UTC | ะะถะตะดะฝะตะฒะฝะฐั ััะฐัะธััะธะบะฐ |
| `send_weekly_report` | ะะฝ 09:00 | ะะถะตะฝะตะดะตะปัะฝัะน ะพัััั ะฐะดะผะธะฝะฐะผ |
| `cleanup_old_data` | 03:00 UTC | ะัะธััะบะฐ ััะฐััั ะดะฐะฝะฝัั |
| `check_pending_payments` | 30 ะผะธะฝ | ะัะพะฒะตัะบะฐ ะฝะตะพะฟะปะฐัะตะฝะฝัั ะธะฝะฒะพะนัะพะฒ |
| `backup_database` | 04:00 UTC | ะะฒัะพะผะฐัะธัะตัะบะธะน ะฑัะบะฐะฟ ะะ |

---

## ๐ TUI ะะดะผะธะฝะบะฐ

ะะฐะฟััะบ ัะตัะตะท SSH ะธะปะธ ะปะพะบะฐะปัะฝะพ:

```cmd
bat\start_admin.bat
```

### ะะพัััะธะต ะบะปะฐะฒะธัะธ:

| ะะปะฐะฒะธัะฐ | ะะตะนััะฒะธะต |
|---------|----------|
| `1` | ะะฐัะฑะพัะด |
| `2` | ะะฐะฝะฐะปั |
| `3` | ะะฐะบะตัั |
| `4` | ะัะพะผะพะบะพะดั |
| `5` | ะะพะปัะทะพะฒะฐัะตะปะธ |
| `6` | ะะฐัััะปะบะฐ |
| `7` | ะะฐัััะพะนะบะธ |
| `Q` | ะััะพะด |
| `Esc` | ะะฐะทะฐะด |
| `R` | ะะฑะฝะพะฒะธัั |

---

## โ FAQ

### ะะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒะพะณะพ ะฐะดะผะธะฝะฐ?

ะะพะฑะฐะฒััะต ะตะณะพ Telegram ID ะฒ `.env`:
```env
ADMIN_IDS=123456789,987654321
```

### ะะฐะบ ัะดะตะปะฐัั ะฑัะบะฐะฟ?

ะัััะฝัั:
```cmd
bat\backup_db.bat
```

ะะฒัะพะผะฐัะธัะตัะบะธ ะฑัะบะฐะฟั ัะพะทะดะฐัััั ะบะฐะถะดัะน ะดะตะฝั ะฒ 04:00 UTC.

### ะะฐะบ ะฟะพัะผะพััะตัั ะปะพะณะธ?

```cmd
bat\view_logs.bat
```

ะะปะธ ะพัะบัะพะนัะต ะฟะฐะฟะบั `logs\`.

### ะะพั ะฝะต ะทะฐะฟััะบะฐะตััั, ััะพ ะดะตะปะฐัั?

1. ะัะพะฒะตัััะต ัะพะบะตะฝ ะฒ `.env`
2. ะัะพะฒะตัััะต ะปะพะณะธ ะฒ ะฟะฐะฟะบะต `logs\`
3. ะฃะฑะตะดะธัะตัั, ััะพ ะฟะพัั ะฝะต ะทะฐะฝัั
4. ะะตัะตะทะฐะฟัััะธัะต: `bat\restart_bot.bat`

### ะะฐะบ ะฟะตัะตะนัะธ ะฝะฐ testnet Crypto Bot?

ะ `.env`:
```env
CRYPTO_BOT_NETWORK=testnet
```

---

## ๐ ะะพะดะดะตัะถะบะฐ

ะะพ ะฒะพะฟัะพัะฐะผ ะพะฑัะฐัะฐะนัะตัั ะบ ัะฐะทัะฐะฑะพััะธะบั.

---

## ๐ ะะธัะตะฝะทะธั

MIT License

---

**Made with โค๏ธ for Telegram**
